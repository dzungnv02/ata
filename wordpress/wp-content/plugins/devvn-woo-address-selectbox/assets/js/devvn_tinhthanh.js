!function(o){o(document).ready(function(){var e={formatNoMatches:devvn_array.formatNoMatches},t=loading_shipping=!1,s=o("#billing_city_field"),d=o("#billing_address_2_field"),l=o("#shipping_city_field"),c=o("#shipping_address_2_field");o("#billing_state").select2(e),o("#billing_city").select2(e),o("#billing_address_2").select2(e),o("body #billing_state").on("change select2:select select2-selecting",function(i){o("#billing_city option").val("");var a=i.val;a||(a=o("#billing_state option:selected").val()),a&&!t&&(t=!0,o.ajax({type:"post",dataType:"json",url:devvn_array.admin_ajax,data:{action:"load_diagioihanhchinh",matp:a},context:this,beforeSend:function(){s.addClass("devvn_loading"),d.addClass("devvn_loading")},success:function(i){if(t=!1,o("#billing_city,#billing_address_2").html("").select2(),i.success){var a=i.data,n=new Option("","");o("#billing_city").append(n),o.each(a,function(i,a){var n=new Option(a.name,a.maqh);o("#billing_city").append(n)})}s.removeClass("devvn_loading"),d.removeClass("devvn_loading")}}))}),0<o("#billing_address_2").length&&o("#billing_city").on("change select2-selecting",function(i){var a=i.val;a||(a=o("#billing_city option:selected").val()),a&&o.ajax({type:"post",dataType:"json",url:devvn_array.admin_ajax,data:{action:"load_diagioihanhchinh",maqh:a},context:this,beforeSend:function(){d.addClass("devvn_loading")},success:function(i){if(o("#billing_address_2").html("").select2(e),i.success){var a=i.data,n=new Option("","");o("#billing_address_2").append(n),o.each(a,function(i,a){var n=new Option(a.name,a.xaid);o("#billing_address_2").append(n)})}d.removeClass("devvn_loading")}})}),o("#shipping_state").select2(e),o("#shipping_city").select2(e),o("#shipping_address_2").select2(e),o("body #shipping_state").on("change select2:select select2-selecting",function(i){o("#shipping_city option").val("");var a=i.val;a||(a=o("#shipping_state option:selected").val()),a&&!loading_shipping&&(loading_shipping=!0,o.ajax({type:"post",dataType:"json",url:devvn_array.admin_ajax,data:{action:"load_diagioihanhchinh",matp:a},context:this,beforeSend:function(){l.addClass("devvn_loading"),c.addClass("devvn_loading")},success:function(i){if(loading_shipping=!1,o("#shipping_city,#shipping_address_2").html("").select2(),i.success){var a=i.data,n=new Option("","");o("#shipping_city").append(n),o.each(a,function(i,a){var n=new Option(a.name,a.maqh);o("#shipping_city").append(n)})}l.removeClass("devvn_loading"),c.removeClass("devvn_loading")}}))}),0<o("#shipping_address_2").length&&o("#shipping_city").on("change select2-selecting",function(i){var a=i.val;a||(a=o("#shipping_city option:selected").val()),a&&o.ajax({type:"post",dataType:"json",url:devvn_array.admin_ajax,data:{action:"load_diagioihanhchinh",maqh:a},context:this,beforeSend:function(){c.addClass("devvn_loading")},success:function(i){if(o("#shipping_address_2").html("").select2(e),i.success){var a=i.data,n=new Option("","");o("#shipping_address_2").append(n),o.each(a,function(i,a){var n=new Option(a.name,a.xaid);o("#shipping_address_2").append(n)})}c.removeClass("devvn_loading")}})}),0<o("#calc_shipping_city_field").length&&o(document.body).bind("country_to_state_changed updated_wc_div",function(){var e=o("#calc_shipping_city_field #calc_shipping_city");e.val(),o("#calc_shipping_state").val();e.select2();var t=!1,i=function(i){i&&!t&&o.ajax({type:"post",dataType:"json",url:devvn_array.admin_ajax,data:{action:"load_diagioihanhchinh",matp:i},context:this,beforeSend:function(){t=!0},success:function(i){if(t=!1,i.success){var a=i.data,n=[];o.each(a,function(i,a){n.push({id:a.maqh,text:a.name})}),e.html("").select2({placeholder:"Chọn quận/huyện",data:n})}}})};o("body select.state_select:visible").each(function(){i(o(this).val()),o(this,"body").on("change select2:select",function(){i(o(this).val())})})})})}(jQuery);